---
import { getEntry } from 'astro:content';

// Get navigation and settings data from CMS
const navigationData = await getEntry('navigation', 'main');
const settingsData = await getEntry('settings', 'general');

const { quickLinks, legal } = navigationData.data.footer;
const { social } = settingsData.data;
---

<footer class="bg-gray-900 text-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <!-- Brand -->
      <div class="col-span-1 md:col-span-2">
        <div class="flex items-center space-x-2 mb-4">
          <div class="w-8 h-8 bg-gradient-to-br from-primary-500 to-accent-500 rounded-lg flex items-center justify-center">
            <span class="text-white font-bold text-sm">BP</span>
          </div>
          <span class="text-xl font-bold">Blicksel Picks</span>
        </div>
        <p class="text-gray-300 mb-4 max-w-md">
          Your trusted source for honest Amazon product reviews and recommendations. 
          We help you make informed purchasing decisions with detailed analysis and expert insights.
        </p>
        <div class="flex space-x-4">
          {social.facebook && (
            <a href={social.facebook} class="text-gray-400 hover:text-white transition-colors" aria-label="Follow us on Facebook">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z" clip-rule="evenodd"></path>
              </svg>
            </a>
          )}
          {social.twitter && (
            <a href={social.twitter} class="text-gray-400 hover:text-white transition-colors" aria-label="Follow us on Twitter">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path d="M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"></path>
              </svg>
            </a>
          )}
          {social.instagram && (
            <a href={social.instagram} class="text-gray-400 hover:text-white transition-colors" aria-label="Follow us on Instagram">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path d="M12.017 0H7.984C3.467 0 0 3.467 0 7.984v4.032C0 16.533 3.467 20 7.984 20h4.033C16.533 20 20 16.533 20 12.016V7.984C20 3.467 16.533 0 12.017 0zm3.794 12.016c0 2.089-1.722 3.794-3.794 3.794H7.984c-2.089 0-3.794-1.705-3.794-3.794V7.984c0-2.089 1.705-3.794 3.794-3.794h4.033c2.072 0 3.794 1.705 3.794 3.794v4.032zM10 4.9c-2.8 0-5.1 2.3-5.1 5.1s2.3 5.1 5.1 5.1 5.1-2.3 5.1-5.1S12.8 4.9 10 4.9zm0 8.4c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3 3.3 1.5 3.3 3.3-1.5 3.3-3.3 3.3zm5.3-8.8c-.7 0-1.2.6-1.2 1.2s.6 1.2 1.2 1.2 1.2-.6 1.2-1.2-.5-1.2-1.2-1.2z"></path>
              </svg>
            </a>
          )}
        </div>
      </div>
      
      <!-- Quick Links -->
      <div>
        <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
        <ul class="space-y-2">
          {quickLinks.map(link => (
            <li><a href={link.url} class="text-gray-300 hover:text-white transition-colors">{link.name}</a></li>
          ))}
        </ul>
      </div>
      
      <!-- Legal -->
      <div>
        <h3 class="text-lg font-semibold mb-4">Legal</h3>
        <ul class="space-y-2">
          {legal.map(link => (
            <li><a href={link.url} class="text-gray-300 hover:text-white transition-colors">{link.name}</a></li>
          ))}
        </ul>
      </div>
    </div>
    
    <!-- Amazon Affiliate Disclosure -->
    <div class="border-t border-gray-800 mt-8 pt-8">
      <div class="bg-gray-800 rounded-lg p-4 mb-4">
        <p class="text-gray-400 text-sm">
          <strong>Amazon Affiliate Disclosure:</strong> Blicksel Picks is a participant in the Amazon Services LLC Associates Program, 
          an affiliate advertising program designed to provide a means for sites to earn advertising fees by advertising and linking to Amazon.com. 
          As an Amazon Associate, we earn from qualifying purchases at no additional cost to you.
        </p>
      </div>
      
      <!-- Copyright and Social Media Links -->
      <div class="flex flex-col md:flex-row justify-between items-center">
        <p class="text-gray-400 text-sm">
          © 2024 Blicksel Picks. All rights reserved. Built with ❤️ using Astro
        </p>
      </div>
    </div>
  </div>
</footer>